# =============================================================================
# Bookmarks Application Configuration
# Copy this file to .env and update values for your environment.
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
POSTGRES_USER=bookmarks
POSTGRES_PASSWORD=bookmarks
POSTGRES_DB=bookmarks
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5435/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Auth0 (used by both backend and frontend)
# Get these from: Auth0 Dashboard -> Applications -> Your App -> Settings
# Leave empty for dev mode (no authentication required)
# -----------------------------------------------------------------------------
VITE_AUTH0_DOMAIN=
VITE_AUTH0_CLIENT_ID=
VITE_AUTH0_AUDIENCE=

# -----------------------------------------------------------------------------
# Backend Settings
# -----------------------------------------------------------------------------
# CORS: Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173

# -----------------------------------------------------------------------------
# Shared Settings (VITE_ prefix exposes to frontend)
# -----------------------------------------------------------------------------
# Development mode: bypasses auth, uses fake dev user
# Set to true for local development without Auth0
VITE_DEV_MODE=false

# API URL for frontend and MCP server to connect to backend
VITE_API_URL=http://localhost:8000

# Frontend URL (used by backend for consent error messages)
VITE_FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# MCP Server (Model Context Protocol for AI agents)
# -----------------------------------------------------------------------------
MCP_HOST=0.0.0.0
MCP_PORT=8001

# MCP URL for frontend to display in setup instructions
# In production, set to your deployed MCP server URL (e.g., https://bookmarks-mcp.up.railway.app)
VITE_MCP_URL=http://localhost:8001

# -----------------------------------------------------------------------------
# Field Length Limits (shared between frontend and backend)
# -----------------------------------------------------------------------------
VITE_MAX_CONTENT_LENGTH=512000
VITE_MAX_DESCRIPTION_LENGTH=2000
VITE_MAX_TITLE_LENGTH=500

# -----------------------------------------------------------------------------
# Security Testing (Optional - for live penetration tests)
# -----------------------------------------------------------------------------
# These are only needed to run: make pen_tests
# Tests are automatically skipped if these are not set (safe for CI/CD).
#
# Setup:
# 1. Create two separate test users in Auth0 Dashboard (User Management -> Users)
#    - e.g., security-test-a@fake.local, security-test-b@fake.local
# 2. Log into your app as each user and create a PAT (Personal Access Token)
# 3. Paste the tokens below
#
# IMPORTANT: The two PATs MUST be from DIFFERENT user accounts!
#
# SECURITY_TEST_API_URL=https://tiddly.me/
# SECURITY_TEST_USER_A_PAT=bm_your_first_user_token
# SECURITY_TEST_USER_B_PAT=bm_your_second_user_token
