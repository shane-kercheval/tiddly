# Railway Configuration
#
# NOTE: Railway configures services primarily through the dashboard/CLI.
# This file provides reference configuration for each service.
# When setting up in Railway, create 3 services pointing to this repo
# with the following settings:
#
# Service: api
# - Root Directory: /
# - Dockerfile Path: deploy/api.Dockerfile
# - Port: 8000
#
# Service: mcp
# - Root Directory: /
# - Dockerfile Path: deploy/mcp.Dockerfile
# - Port: 8001
#
# Service: frontend
# - Root Directory: /
# - Dockerfile Path: deploy/frontend.Dockerfile
# - Port: 80
#
# After creating services, add a PostgreSQL plugin and link it to the api service.

[build]
# Railway will auto-detect Dockerfile when dockerfilePath is set in service settings

[deploy]
# Number of instances (Railway pro feature)
numReplicas = 1

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Health check (configure per-service in dashboard)
# healthcheckPath = "/health"
# healthcheckTimeout = 10
